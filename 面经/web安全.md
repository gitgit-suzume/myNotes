> web 安全及防护原理

## sql注入

* 即把sql命令插入到web表达提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意SQL命令的目的

以此来提示我们

* 永远不要相信用户的输入
* 永远不要动态拼装sql
* 永远不要使用管理员权限的数据库连接
* 不要把机密信息明文存放

## xxs原理及防范

* xxs指攻击者往web插入恶意html标签或js代码

防范方法

* 字符串转义
* 避免在cookie泄漏用户隐私
* 使cookie和系统ip绑定降低cookie泄漏后危险。
* 若网页不需要在浏览器端对cookie进行操作，可在Set-COokie末尾加上Http-Only来防止JavaScript代码直接获取cookie
* 尽量采用post而不是get提交表单

## xxs 和 scrf区别

* xxs是获取信息，不需要提前知道其他用户页面的代码和数据包
* csrf是代替用户完成指定动作，需要知道其他用户页面代码和数据包
* 完成一次csrf攻击，受害者必须依次完成两个步骤
    * 登录受信任的网站A
    * 在本地生成cookie
    * 在不登出A的情况下，访问危险网站B
* csrf防御
    * 在客户端页面增加伪随机数
    * 通过验证码的方法